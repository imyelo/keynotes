<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">New changes in Webpack 5</title><link as="script" rel="preload" href="/2020-10-23-webpack-5/webpack-runtime-7b8c7c5dde21029a77c9.js"/><link as="script" rel="preload" href="/2020-10-23-webpack-5/framework-223b8410f042f5623915.js"/><link as="script" rel="preload" href="/2020-10-23-webpack-5/app-a45ac87bbd4ee76fcc55.js"/><link as="script" rel="preload" href="/2020-10-23-webpack-5/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-2cbe26ab7b2340e0a4e4.js"/><link as="fetch" rel="preload" href="/2020-10-23-webpack-5/page-data/print/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/2020-10-23-webpack-5/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="ut8w6s">body{margin:0;overflow:hidden;}</style><style data-emotion-css="bdfrlc">.css-bdfrlc{width:100vw;height:100vh;}.css-bdfrlc *{box-sizing:border-box;}</style><div class="css-bdfrlc"><div style="outline:none;height:100%" tabindex="-1"><style data-emotion-css="gxvojt">.css-gxvojt{box-sizing:border-box;width:100%;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative;color:var(--theme-ui-colors-text,#9CDCFE);background-color:var(--theme-ui-colors-background,#1E1E1E);font-family:system-ui,sans-serif;font-size:20px;}@media screen and (min-width:40em){.css-gxvojt{font-size:24px;}}@media screen and (min-width:52em){.css-gxvojt{font-size:32px;}}@media screen and (min-width:64em){.css-gxvojt{font-size:48px;}}</style><div class="css-gxvojt"><style data-emotion-css="1djqpdg">.css-1djqpdg{font-family:inherit;line-height:1.125;font-weight:700;}</style><h2 class="css-1djqpdg">New changes in Webpack 5</h2></div><div class="css-gxvojt"><p class="css-0"><style data-emotion-css="199bzt4">.css-199bzt4{color:var(--theme-ui-colors-primary,rgb(206,145,120));}</style><a href="https://webpack.js.org/blog/2020-10-10-webpack-5-release" class="css-199bzt4">https://webpack.js.org/blog/2020-10-10-webpack-5-release</a></p></div><div class="css-gxvojt"><h2 class="css-1djqpdg">用户视角</h2></div><div class="css-gxvojt"><h3 class="css-1djqpdg">构建能力优化</h3><style data-emotion-css="1uk1gs8">.css-1uk1gs8{margin:0;}</style><ul class="css-1uk1gs8"><li class="css-0">Persistent Caching</li><li class="css-0">Tree Shaking</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">Persistent Caching</h3></div><div class="css-gxvojt"><ul class="css-1uk1gs8"><li class="css-0">why cache</li><li class="css-0">why persistent</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">Content Hash</h3></div><div class="css-gxvojt"><style data-emotion-css="1vg6q84">.css-1vg6q84{font-weight:700;}</style><blockquote class="css-1vg6q84"><p class="css-0">Webpack 5 will use a real hash of the file content when using <style data-emotion-css="vgof0f">.css-vgof0f{font-family:"Roboto Mono",Menlo,monospace;}</style><code class="css-vgof0f">[contenthash]</code> now.   </p><p class="css-0">Before it &quot;only&quot; used a hash of the internal structure.  </p><p class="css-0">This can be positive impact on long term caching when only comments are changed or variables are renamed.  </p></blockquote></div><div class="css-gxvojt"><h3 class="css-1djqpdg">针对 Web 的新特性</h3></div><div class="css-gxvojt"><ul class="css-1uk1gs8"><li class="css-0"><strong class="css-0">JSON modules</strong></li><li class="css-0">import.meta</li><li class="css-0"><strong class="css-0">Asset modules</strong></li><li class="css-0">Native Worker</li><li class="css-0"><strong class="css-0">URIs</strong></li><li class="css-0">Async modules</li><li class="css-0">Externals</li></ul><p class="css-0"><a href="https://webpack.js.org/blog/2020-10-10-webpack-5-release/#major-changes-new-web-platform-features" class="css-199bzt4">...</a></p></div><div class="css-gxvojt"><h3 class="css-1djqpdg">针对 Node.js 生态的新特性</h3></div><div class="css-gxvojt"><ul class="css-1uk1gs8"><li class="css-0">package.json<ul class="css-1uk1gs8"><li class="css-0">exports</li><li class="css-0">imports</li></ul></li><li class="css-0"><a href="https://yarnpkg.com/features/pnp/" class="css-199bzt4">Yarn PnP</a></li></ul><p class="css-0"><a href="https://webpack.js.org/blog/2020-10-10-webpack-5-release/#major-changes-new-nodejs-ecosystem-features" class="css-199bzt4">...</a></p></div><div class="css-gxvojt"><h4 class="css-1djqpdg">PnP</h4></div><div class="css-gxvojt"><style data-emotion-css="wnzno2">.css-wnzno2{max-width:100%;height:auto;object-fit:cover;}</style><img src="https://i.loli.net/2020/10/23/BOyT7IgQu5RKnse.jpg" alt="node_modules.jpg" class="css-wnzno2"/></div><div class="css-gxvojt"><h5 class="css-1djqpdg">The node_modules problem</h5><ul class="css-1uk1gs8"><li class="css-0">产生的文件量巨大</li><li class="css-0">产生过程为重 I/O 操作</li><li class="css-0">非严格的包概念</li><li class="css-0">运行时依赖 Node Resolutions 大量地执行 <code class="css-vgof0f">stat</code> 和  <code class="css-vgof0f">readdir</code></li><li class="css-0">树状的存储结构设计</li></ul><p class="css-0"><a href="https://yarnpkg.com/features/pnp#the-node_modules-problem" class="css-199bzt4">...</a></p></div><div class="css-gxvojt"><ul class="css-1uk1gs8"><li class="css-0"><a href="https://git.woa.com/STKE/tkex-web" class="css-199bzt4">STKE / tkex-web</a></li><li class="css-0"><a href="https://yarnpkg.com/features/pnp#compatibility-table" class="css-199bzt4">Compatibility</a></li><li class="css-0"><a href="https://github.com/microsoft/TypeScript/pull/35206" class="css-199bzt4">microsoft / TypeScript - Native support for PnP</a></li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">还有什么?</h3><ul class="css-1uk1gs8"><li class="css-0">enhanced-resolve 升级</li><li class="css-0">最低要求 Node.js 版本升级</li><li class="css-0">支持异步 WebAssembly 模块</li><li class="css-0">更丰富的 target 配置 </li><li class="css-0">...</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">Module Federation</h3><p class="css-0">实验性 API</p></div><div class="css-gxvojt"><img src="https://i.loli.net/2020/10/23/pifreZvRjOh2bGa.png" alt="1_LYa-AhLhP0-3q2O9liL13w.png" class="css-wnzno2"/></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="oedec6">.css-oedec6{color:#9CDCFE;background-color:#1E1E1E;}.css-oedec6 .token-prolog{color:rgb(0,0,128);}.css-oedec6 .token-comment{color:rgb(106,153,85);}.css-oedec6 .token-builtin,.css-oedec6 .token-changed,.css-oedec6 .token-keyword{color:rgb(86,156,214);}.css-oedec6 .token-number,.css-oedec6 .token-inserted{color:rgb(181,206,168);}.css-oedec6 .token-constant{color:rgb(100,102,149);}.css-oedec6 .token-attr-name,.css-oedec6 .token-variable{color:rgb(156,220,254);}.css-oedec6 .token-deleted,.css-oedec6 .token-string,.css-oedec6 .token-attr-value{color:rgb(206,145,120);}.css-oedec6 .token-selector{color:rgb(215,186,125);}.css-oedec6 .token-tag{color:rgb(86,156,214);}.css-oedec6 .token-punctuation,.css-oedec6 .token-operator{color:rgb(212,212,212);}.css-oedec6 .token-punctuation{color:#808080;}.css-oedec6 .token-function{color:rgb(220,220,170);}.css-oedec6 .token-class-name{color:rgb(78,201,176);}.css-oedec6 .token-char{color:rgb(209,105,105);}</style><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="xbe36b">.css-xbe36b{color:#9CDCFE;background-color:#1E1E1E;}</style><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">HtmlWebpackPlugin</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&quot;html-webpack-plugin&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">const</span><span class="token-plain"> path </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&quot;path&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">module</span><span class="token-punctuation">.</span><span class="token-property-access">exports</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  entry</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;./src/index&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  mode</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;development&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  devServer</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    contentBase</span><span class="token-operator">:</span><span class="token-plain"> path</span><span class="token-punctuation">.</span><span class="token-method">join</span><span class="token-punctuation">(</span><span class="token-plain">__dirname</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;dist&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    port</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-number">3001</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  output</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    publicPath</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;auto&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">  module</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    rules</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        test</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">bootstrap\.js$</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">        loader</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;bundle-loader&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        options</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">          lazy</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">        </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">      </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">        test</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">\.jsx?$</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">        loader</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;babel-loader&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">        exclude</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">node_modules</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">        options</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">          presets</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&quot;@babel/preset-react&quot;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">        </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">  plugins</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">    </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">HtmlWebpackPlugin</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">      template</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;./public/index.html&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">  </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><style data-emotion-css="1q54swq">.css-1q54swq{position:absolute;top:0;width:100%;margin:0;padding:1em 0;text-align:center;background-color:#1E1E1E;color:#9CDCFE;}</style><h4 class="cs-title css-1q54swq"><span style="opacity:1">app1/src/App.js</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">HtmlWebpackPlugin</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&quot;html-webpack-plugin&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">app2/src/App.js</span></h4></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">React</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;react&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">LocalButton</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;./Button&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">App</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  </span><span class="token-operator">&lt;</span><span class="token-plain">div</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-operator">&lt;</span><span class="token-plain">h1</span><span class="token-operator">&gt;</span><span class="token-maybe-class-name">Basic</span><span class="token-plain"> </span><span class="token-maybe-class-name">Host</span><span class="token-operator">-</span><span class="token-maybe-class-name">Remote</span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">h1</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-operator">&lt;</span><span class="token-plain">h2</span><span class="token-operator">&gt;</span><span class="token-maybe-class-name">App</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">h2</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  </span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">div</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-maybe-class-name">App</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span style="opacity:1">app1/webpack.config.js</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">LocalButton</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;./Button&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">app2/webpack.config.js</span></h4></div></div></div></div></div></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">React</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;react&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">Button</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">button</span><span class="token-operator">&gt;</span><span class="token-maybe-class-name">App</span><span class="token-plain"> </span><span class="token-number">2</span><span class="token-plain"> </span><span class="token-maybe-class-name">Button</span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">button</span><span class="token-operator">&gt;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-maybe-class-name">Button</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">app2/src/Button.js</span></h4></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">Expose the Button</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">HtmlWebpackPlugin</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&quot;html-webpack-plugin&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-keyword">const</span><span class="token-plain"> path </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&quot;path&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">module</span><span class="token-punctuation">.</span><span class="token-property-access">exports</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  entry</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;./src/index&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  mode</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;development&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  devServer</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    contentBase</span><span class="token-operator">:</span><span class="token-plain"> path</span><span class="token-punctuation">.</span><span class="token-method">join</span><span class="token-punctuation">(</span><span class="token-plain">__dirname</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;dist&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    port</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-number">3001</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  output</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    publicPath</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;auto&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">  module</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    rules</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        test</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">bootstrap\.js$</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">        loader</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;bundle-loader&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        options</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">          lazy</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">        </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">      </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">        test</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">\.jsx?$</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">        loader</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;babel-loader&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">        exclude</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">node_modules</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">        options</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">          presets</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&quot;@babel/preset-react&quot;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">        </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">  plugins</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">      shared</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> react</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> singleton</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;react-dom&quot;</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> singleton</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">    </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">HtmlWebpackPlugin</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">      template</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;./public/index.html&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">  </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>app1/webpack.config.js</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">      shared</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> react</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> singleton</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;react-dom&quot;</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> singleton</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">app1/webpack.config.js</span></h4></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">HtmlWebpackPlugin</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&quot;html-webpack-plugin&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-keyword">const</span><span class="token-plain"> path </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&quot;path&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">module</span><span class="token-punctuation">.</span><span class="token-property-access">exports</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  entry</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;./src/index&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  mode</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;development&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  devServer</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    contentBase</span><span class="token-operator">:</span><span class="token-plain"> path</span><span class="token-punctuation">.</span><span class="token-method">join</span><span class="token-punctuation">(</span><span class="token-plain">__dirname</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;dist&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    port</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-number">3002</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  output</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    publicPath</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;auto&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">  module</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    rules</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        test</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">bootstrap\.js$</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">        loader</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;bundle-loader&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        options</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">          lazy</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">        </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">      </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">        test</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">\.jsx?$</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">        loader</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;babel-loader&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">        exclude</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-regex-delimiter">/</span><span class="token-regex-source">node_modules</span><span class="token-regex-delimiter">/</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">        options</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">          presets</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&quot;@babel/preset-react&quot;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">        </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">  plugins</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">      shared</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> react</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> singleton</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;react-dom&quot;</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> singleton</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">    </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">HtmlWebpackPlugin</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">      template</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&quot;./public/index.html&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">  </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>app2/webpack.config.js</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">      shared</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> react</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> singleton</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;react-dom&quot;</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> singleton</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">app2/webpack.config.js</span></h4></div></div></div></div></div></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">React</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;react&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">RemoteButton</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;app2/Button&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">App</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  </span><span class="token-operator">&lt;</span><span class="token-plain">div</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-operator">&lt;</span><span class="token-plain">h1</span><span class="token-operator">&gt;</span><span class="token-maybe-class-name">Basic</span><span class="token-plain"> </span><span class="token-maybe-class-name">Host</span><span class="token-operator">-</span><span class="token-maybe-class-name">Remote</span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">h1</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-operator">&lt;</span><span class="token-plain">h2</span><span class="token-operator">&gt;</span><span class="token-maybe-class-name">App</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">h2</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">  </span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">div</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-maybe-class-name">App</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>app1/src/App.js</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">RemoteButton</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;app2/Button&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">app1/src/App.js</span></h4></div></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">with Async Import</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">React</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;react&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">RemoteButton</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;app2/Button&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">RemoteButton</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-maybe-class-name">React</span><span class="token-punctuation">.</span><span class="token-method">lazy</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-keyword">import</span><span class="token-punctuation">(</span><span class="token-string">&quot;app2/Button&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">App</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-operator">&lt;</span><span class="token-plain">div</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-operator">&lt;</span><span class="token-plain">h1</span><span class="token-operator">&gt;</span><span class="token-maybe-class-name">Basic</span><span class="token-plain"> </span><span class="token-maybe-class-name">Host</span><span class="token-operator">-</span><span class="token-maybe-class-name">Remote</span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">h1</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-operator">&lt;</span><span class="token-plain">h2</span><span class="token-operator">&gt;</span><span class="token-maybe-class-name">App</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">h2</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    </span><span class="token-operator">&lt;</span><span class="token-maybe-class-name">RemoteButton</span><span class="token-plain"> </span><span class="token-operator">/</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">  </span><span class="token-operator">&lt;</span><span class="token-operator">/</span><span class="token-plain">div</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-maybe-class-name">App</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>app1/src/App.js</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-maybe-class-name">RemoteButton</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-maybe-class-name">React</span><span class="token-punctuation">.</span><span class="token-method">lazy</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-keyword">import</span><span class="token-punctuation">(</span><span class="token-string">&quot;app2/Button&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">app1/src/App.js</span></h4></div></div></div></div></div></div><div class="css-gxvojt"><p class="css-0"><a href="https://github.com/module-federation/module-federation-examples/tree/cb3cd29/basic-host-remote" class="css-199bzt4">Full Example</a></p></div><div class="css-gxvojt"><h2 class="css-1djqpdg">生态开发者视角</h2></div><div class="css-gxvojt"><h3 class="css-1djqpdg">插件执行顺序提前</h3><ul class="css-1uk1gs8"><li class="css-0">仅在钩子中获取配置</li><li class="css-0">避免依赖配置</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">可能存在没有 Runtime 注入的场景</h3><ul class="css-1uk1gs8"><li class="css-0">RuntimeModule</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">新的 Cache 类</h3><ul class="css-1uk1gs8"><li class="css-0">使用集成的缓存能力</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">纯 Node.js 的 Watcher</h3><ul class="css-1uk1gs8"><li class="css-0">不再依赖 chokidar &amp; fsevents</li><li class="css-0">纯 Node.js fs 实现</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">Source Types</h3><ul class="css-1uk1gs8"><li class="css-0">内置源类型 <code class="css-vgof0f">javascript</code>, <code class="css-vgof0f">webassembly</code></li><li class="css-0">可扩展自定义类型</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">SizeOnlySource</h3><ul class="css-1uk1gs8"><li class="css-0">代替 Compilation.assets 中的 sources</li><li class="css-0">减少内存占用</li></ul></div><div class="css-gxvojt"><h3 class="css-1djqpdg">其它需要留意的调整</h3><ul class="css-1uk1gs8"><li class="css-0">Tapable API 更新</li><li class="css-0">Array -&gt; Set, Object -&gt; Map 迁移</li><li class="css-0">HMR 运行时重构为运行时模块</li><li class="css-0">引入工作队列特性，废弃 <code class="css-vgof0f">Compilation.semaphore</code></li><li class="css-0">modules 和 chunks 的 id 顺序不再可靠</li></ul></div><div class="css-gxvojt"><h2 class="css-1djqpdg">参考</h2><ul class="css-1uk1gs8"><li class="css-0"><a href="https://webpack.js.org/blog/2020-10-10-webpack-5-release" class="css-199bzt4">https://webpack.js.org/blog/2020-10-10-webpack-5-release</a></li><li class="css-0"><a href="https://juejin.im/post/6882663278712094727" class="css-199bzt4">https://juejin.im/post/6882663278712094727</a></li><li class="css-0"><a href="https://github.com/webpack/webpack/pull/11095" class="css-199bzt4">https://github.com/webpack/webpack/pull/11095</a></li><li class="css-0"><a href="https://webpack.js.org/concepts/module-federation/" class="css-199bzt4">https://webpack.js.org/concepts/module-federation/</a></li><li class="css-0"><a href="https://webpack.js.org/migrate/5/" class="css-199bzt4">https://webpack.js.org/migrate/5/</a></li><li class="css-0"><a href="https://github.com/webpack-contrib/cache-loader/" class="css-199bzt4">https://github.com/webpack-contrib/cache-loader/</a></li><li class="css-0"><a href="https://github.com/webpack/enhanced-resolve" class="css-199bzt4">https://github.com/webpack/enhanced-resolve</a></li><li class="css-0"><a href="https://github.com/vuejs/vue-loader" class="css-199bzt4">https://github.com/vuejs/vue-loader</a></li></ul></div><div class="css-gxvojt"><h2 class="css-1djqpdg">参考</h2><ul class="css-1uk1gs8"><li class="css-0"><a href="https://www.youtube.com/watch?v=D3XYAx30CNc" class="css-199bzt4">https://www.youtube.com/watch?v=D3XYAx30CNc</a></li><li class="css-0"><a href="https://zhuanlan.zhihu.com/p/120462530" class="css-199bzt4">https://zhuanlan.zhihu.com/p/120462530</a></li><li class="css-0"><a href="https://dev.to/marais/webpack-5-and-module-federation-4j1i" class="css-199bzt4">https://dev.to/marais/webpack-5-and-module-federation-4j1i</a></li><li class="css-0"><a href="https://medium.com/swlh/webpack-5-module-federation-a-game-changer-to-javascript-architecture-bcdd30e02669" class="css-199bzt4">https://medium.com/swlh/webpack-5-module-federation-a-game-changer-to-javascript-architecture-bcdd30e02669</a></li><li class="css-0"><a href="https://medium.com/@ScriptedAlchemy/webpack-5-module-federation-stitching-two-simple-bundles-together-fe4e6a069716" class="css-199bzt4">https://medium.com/@ScriptedAlchemy/webpack-5-module-federation-stitching-two-simple-bundles-together-fe4e6a069716</a></li><li class="css-0"><a href="https://github.com/module-federation/module-federation-examples" class="css-199bzt4">https://github.com/module-federation/module-federation-examples</a></li></ul></div><div class="css-gxvojt"><h2 class="css-1djqpdg">Star tinajs / mina-webpack</h2><ul class="css-1uk1gs8"><li class="css-0"><a href="https://github.com/tinajs/mina-webpack" class="css-199bzt4">https://github.com/tinajs/mina-webpack</a></li><li class="css-0"><a href="https://segmentfault.com/a/1190000022023433" class="css-199bzt4">https://segmentfault.com/a/1190000022023433</a></li></ul></div><div class="css-gxvojt"><h1 class="css-1djqpdg">Q&amp;A</h1></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/print";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-d100a63ad22527641519.js"],"app":["/app-a45ac87bbd4ee76fcc55.js"],"component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js":["/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-2cbe26ab7b2340e0a4e4.js"]};/*]]>*/</script><script src="/2020-10-23-webpack-5/polyfill-d100a63ad22527641519.js" nomodule=""></script><script src="/2020-10-23-webpack-5/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-2cbe26ab7b2340e0a4e4.js" async=""></script><script src="/2020-10-23-webpack-5/app-a45ac87bbd4ee76fcc55.js" async=""></script><script src="/2020-10-23-webpack-5/framework-223b8410f042f5623915.js" async=""></script><script src="/2020-10-23-webpack-5/webpack-runtime-7b8c7c5dde21029a77c9.js" async=""></script></body></html>